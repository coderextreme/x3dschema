<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 4.0//EN" "http://www.web3d.org/specifications/x3d-4.0.dtd">
<X3D profile="Immersive" version="4.0"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" xsd:noNamespaceSchemaLocation="http://www.web3d.org/specifications/x3d-4.0.xsd">
    <head>
        <meta content="bubs2.x3d" name="title"/>
        <meta content="John Carlson" name="creator"/>
        <meta content="Tour around a prismatic sphere" name="description"/>
        <meta content="X3D-Edit, https://savage.nps.edu/X3D-Edit" name="generator"/>
        <meta
            content="X3dToJson.xslt, https://www.web3d.org/x3d/stylesheets/X3dToJson.html" name="generator"/>
        <meta
            content="https://coderextreme.net/X3DJSONLD/src/main/data/geo.x3d" name="identifier"/>
        <component level="1" name="Scripting"/>
    </head>
    <Scene>
        <ProtoDeclare name="Bubble">
            <ProtoInterface/>
            <ProtoBody>
                <Transform DEF="body_trans">
                    <Shape>
                        <Appearance>
                            <Material diffuseColor="1 0 0" transparency="0.2"/>
                        </Appearance>
                        <Sphere containerField="geometry" radius="0.25"/>
                    </Shape>
                    <Script DEF="bounce">
                        <field accessType="inputOutput" name="scale"
                            type="SFVec3f" value="1 1 1"/>
                        <field accessType="inputOutput"
                            name="translation" type="SFVec3f"/>
                        <field accessType="inputOutput" name="velocity" type="SFVec3f"/>
                        <field accessType="inputOutput" name="scalvel" type="SFVec3f"/>
                        <field accessType="inputOnly"
                            name="set_fraction" type="SFFloat"/>
                    </Script>
                    <TimeSensor DEF="bubbleClock" cycleInterval="10" loop="true"/>
                </Transform>
                <ROUTE fromField="translation" fromNode="bounce"
                    toField="translation" toNode="body_trans"/>
                <ROUTE fromField="scale" fromNode="bounce"
                    toField="scale" toNode="body_trans"/>
                <ROUTE fromField="fraction_changed"
                    fromNode="bubbleClock" toField="set_fraction" toNode="bounce"/>
            </ProtoBody>
        </ProtoDeclare>
        <NavigationInfo type="&quot;EXAMINE&quot;"/>
        <Viewpoint description="Bubbles in action" position="0 0 4"/>
        <Background
            backUrl="&quot;../resources/images/BK.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/BK.png&quot;"
            bottomUrl="&quot;../resources/images/BT.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/BT.png&quot;"
            frontUrl="&quot;../resources/images/FR.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/FR.png&quot;"
            leftUrl="&quot;../resources/images/LF.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/LF.png&quot;"
            rightUrl="&quot;../resources/images/RT.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/RT.png&quot;" topUrl="&quot;../resources/images/TP.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/TP.png&quot;"/>
        <ProtoInstance DEF="bubbleA" name="Bubble"/>
        <ProtoInstance DEF="bubbleB" name="Bubble"/>
        <ProtoInstance DEF="bubbleC" name="Bubble"/>
        <ProtoInstance DEF="bubbleD" name="Bubble"/>
    </Scene>
</X3D>
