<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 4.0//EN" "https://www.web3d.org/specifications/x3d-4.0.dtd">
<X3D profile="Immersive" version="4.0"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance" >
    <head>
        <meta content="mirror2.x3d" name="title"/>
        <meta content="John Carlson" name="creator"/>
        <meta content="manual" name="generator"/>
        <meta
            content="https://coderextreme.net/X3DJSONLD/src/main/data/mirror2.x3d" name="identifier"/>
        <meta content="a mirrored sphere" name="description"/>
        <component level="1" name="Scripting"/>
        <component level="3" name="EnvironmentalEffects"/>
        <component level="1" name="Shaders"/>
        <component level="1" name="CubeMapTexturing"/>
        <component level="1" name="Texturing"/>
        <component level="1" name="Rendering"/>
        <component level="4" name="Shape"/>
        <component level="3" name="Grouping"/>
        <component level="1" name="Core"/>
    </head>
    <Scene>
        <Viewpoint description="Switch background and images texture" position="0 5 100"/>
        <Background DEF="cube"
            backUrl="&quot;../resources/images/all_probes/beach_cross/beach_back.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_back.png&quot;"
            bottomUrl="&quot;../resources/images/all_probes/beach_cross/beach_bottom.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_bottom.png&quot;"
            frontUrl="&quot;../resources/images/all_probes/beach_cross/beach_front.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_front.png&quot;"
            leftUrl="&quot;../resources/images/all_probes/beach_cross/beach_left.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_left.png&quot;"
            rightUrl="&quot;../resources/images/all_probes/beach_cross/beach_right.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_right.png&quot;" topUrl="&quot;../resources/images/all_probes/beach_cross/beach_top.png&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/resources/images/all_probes/beach_cross/beach_top.png&quot;"/>
        <Transform>
            <Shape>
                <Appearance>
                    <Material diffuseColor="0.7 0.7 0.7" specularColor="0.5 0.5 0.5"/>
                    <ComposedCubeMapTexture/>
                    <ComposedShader DEF="x_ite" language="GLSL">
                        <ShaderPart url="&quot;../shaders/x_ite.vs&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/shaders/x_ite.vs&quot;"/>
                        <ShaderPart type="FRAGMENT" url="&quot;../shaders/x_itemix.fs&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/shaders/x_itemix.fs&quot;"/>
                        <field accessType="inputOutput"
                            name="chromaticDispertion" type="SFVec3f" value="0.98 1 1.033"/>
                        <field accessType="inputOutput" name="cube" type="SFInt32"/>
                        <field accessType="inputOutput" name="bias"
                            type="SFFloat" value="0.5"/>
                        <field accessType="inputOutput" name="scale"
                            type="SFFloat" value="0.5"/>
                        <field accessType="inputOutput" name="power"
                            type="SFFloat" value="2"/>
                    </ComposedShader>
                    <ComposedShader DEF="x3dom" language="GLSL">
                        <ShaderPart url="&quot;../shaders/x3dom.vs&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/shaders/x3dom.vs&quot;"/>
                        <ShaderPart type="FRAGMENT" url="&quot;../shaders/mix.fs&quot; &quot;https://coderextreme.net/X3DJSONLD/src/main/shaders/mix.fs&quot;"/>
                        <field accessType="inputOutput"
                            name="chromaticDispertion" type="SFVec3f" value="0.98 1 1.033"/>
                        <field accessType="inputOutput" name="cube" type="SFInt32"/>
                        <field accessType="inputOutput" name="bias"
                            type="SFFloat" value="0.5"/>
                        <field accessType="inputOutput" name="scale"
                            type="SFFloat" value="0.5"/>
                        <field accessType="inputOutput" name="power"
                            type="SFFloat" value="2"/>
                    </ComposedShader>
                </Appearance>
                <Sphere containerField="geometry" radius="30"/>
            </Shape>
            <Script DEF="UrlSelector" directOutput="true">
                <field accessType="initializeOnly" name="frontUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_front.png&quot; &quot;../resources/images/all_probes/building_cross/building_front.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_front.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_front.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_front.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_front.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_front.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_front.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_front.png&quot;"/>
                <field accessType="initializeOnly" name="backUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_back.png&quot; &quot;../resources/images/all_probes/building_cross/building_back.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_back.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_back.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_back.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_back.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_back.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_back.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_back.png&quot;"/>
                <field accessType="initializeOnly" name="leftUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_left.png&quot; &quot;../resources/images/all_probes/building_cross/building_left.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_left.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_left.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_left.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_left.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_left.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_left.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_left.png&quot;"/>
                <field accessType="initializeOnly" name="rightUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_right.png&quot; &quot;../resources/images/all_probes/building_cross/building_right.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_right.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_right.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_right.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_right.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_right.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_right.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_right.png&quot;"/>
                <field accessType="initializeOnly" name="topUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_top.png&quot; &quot;../resources/images/all_probes/building_cross/building_top.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_top.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_top.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_top.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_top.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_top.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_top.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_top.png&quot;"/>
                <field accessType="initializeOnly" name="bottomUrls"
                    type="MFString" value="&quot;../resources/images/all_probes/beach_cross/beach_bottom.png&quot; &quot;../resources/images/all_probes/building_cross/building_bottom.png&quot; &quot;../resources/images/all_probes/campus_cross/campus_bottom.png&quot; &quot;../resources/images/all_probes/galileo_cross/galileo_bottom.png&quot; &quot;../resources/images/all_probes/grace_cross/grace_bottom.png&quot; &quot;../resources/images/all_probes/kitchen_cross/kitchen_bottom.png&quot; &quot;../resources/images/all_probes/rnl_cross/rnl_bottom.png&quot; &quot;../resources/images/all_probes/stpeters_cross/stpeters_bottom.png&quot; &quot;../resources/images/all_probes/uffizi_cross/uffizi_bottom.png&quot;"/>
                <field accessType="outputOnly" name="front_changed" type="MFString"/>
                <field accessType="outputOnly" name="back_changed" type="MFString"/>
                <field accessType="outputOnly" name="left_changed" type="MFString"/>
                <field accessType="outputOnly" name="right_changed" type="MFString"/>
                <field accessType="outputOnly" name="top_changed" type="MFString"/>
                <field accessType="outputOnly" name="bottom_changed" type="MFString"/>
                <field accessType="inputOnly" name="set_fraction" type="SFFloat"/>
                <field accessType="inputOutput" name="old"
                    type="SFInt32" value="-1"/>
            </Script>
            <TimeSensor DEF="Clock" cycleInterval="45" loop="true"/>
        </Transform>
        <ROUTE fromField="fraction_changed" fromNode="Clock"
            toField="set_fraction" toNode="UrlSelector"/>
        <ROUTE fromField="front_changed" fromNode="UrlSelector"
            toField="frontUrl" toNode="cube"/>
        <ROUTE fromField="back_changed" fromNode="UrlSelector"
            toField="backUrl" toNode="cube"/>
        <ROUTE fromField="left_changed" fromNode="UrlSelector"
            toField="leftUrl" toNode="cube"/>
        <ROUTE fromField="right_changed" fromNode="UrlSelector"
            toField="rightUrl" toNode="cube"/>
        <ROUTE fromField="top_changed" fromNode="UrlSelector"
            toField="topUrl" toNode="cube"/>
        <ROUTE fromField="bottom_changed" fromNode="UrlSelector"
            toField="bottomUrl" toNode="cube"/>
    </Scene>
</X3D>
